!function(e){function t(t){for(var a,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={0:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;o.push([1,1]),n()}({"+BRz":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var a=n("o0o1"),r=n.n(a),o=n("yXPU"),s=n.n(o),i=n("J4zp"),l=n.n(i),c=n("q1tI"),u=n("SH7X"),d=n("kdbL"),p=n.n(d),m=Object(c.createContext)(),f=p()("passwords.force-vault-unconfigured")?function(){return{fetchStatus:"loaded",data:{extension_installed:!1}}}:function(){return e="GET",t="/data/io.cozy.settings/io.cozy.settings.bitwarden",n=[],a=Object(u.useClient)(),o=Object(c.useState)("pending"),i=l()(o,2),d=i[0],p=i[1],m=Object(c.useState)(null),f=l()(m,2),b=f[0],h=f[1],v=Object(c.useState)(null),y=l()(v,2),g=y[0],E=y[1],Object(c.useEffect)((function(){!function(){var n=s()(r.a.mark((function n(){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p("loading"),n.prev=1,n.next=4,a.stackClient.fetchJSON(e,t);case 4:o=n.sent,E(o),h(null),p("loaded"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),h(n.t0),p("error");case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(){return n.apply(this,arguments)}}()()}),n),{fetchStatus:d,error:b,data:g};var e,t,n,a,o,i,d,p,m,f,b,h,v,y,g,E}},"/KVF":function(e,t,n){var a={"./en":"7dT6","./en.json":"7dT6","./fr":"9pOX","./fr.json":"9pOX"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="/KVF"},0:function(e,t){},"0IMI":function(e,t){e.exports="/img/app-store-badge-en.a24eba4e9b5729bec37e441d82879f78.png"},1:function(e,t,n){n("55Il"),n("7NIr"),e.exports=n("LiWt")},"2OfN":function(e,t,n){"use strict";var a,r=n("o0o1"),o=n.n(r),s=n("yXPU"),i=n.n(s),l=n("J4zp"),c=n.n(l),u=n("q1tI"),d=n.n(u),p=n("+BRz"),m=n("SH7X"),f=n("Ty5D"),b=n("buk/"),h=n("olcQ"),v=n("KPTR"),y=n("bkve"),g=n("P4MJ"),E=n("TSYQ"),x=n.n(E),_=n("KXWi"),w=n("X+Uv"),j=n("kyGY"),S=n("M2p0"),C=n("y6ex"),z=n("8/3g"),I=n("4sQE"),O=n("fRPl"),P=n("TBeR"),k=n("YPGy"),N=n("nbNg"),L=n.n(N),A=n("QILm"),U=n.n(A),T=(n("67xI"),function(e){var t=e.className,n=U()(e,["className"]);return d.a.createElement("div",{className:x()("CircleIcon",t)},d.a.createElement(C.a,n))}),M=n("v5lq"),H={chrome:{id:"chrome",type:"browser",label:"Google Chrome",storeUrl:"https://chrome.google.com/webstore/detail/cozy-personal-cloud/jplochopoaajoochpoccajmgelpfbbic"},firefox:{id:"firefox",type:"browser",label:"Mozilla Firefox",storeUrl:"https://addons.mozilla.org/en-US/firefox/addon/cozy-personal-cloud"},safari:{id:"safari",type:"browser",label:"Safari",storeUrl:"macappstore://itunes.apple.com/app/id1504487449?mt=12"},ios:{id:"ios",type:"os",os:"ios",storeUrl:"https://apps.apple.com/fr/app/cozy-pass/id1502262449"},android:{id:"android",type:"os",os:"android",storeUrl:"https://play.google.com/store/apps/details?id=io.cozy.pass"}},R=function(){return H},q=R,D=n("SjWX"),V=n("6acW"),K=n.n(V),F=n("kdbL"),B=n.n(F),Y={ios:"iOS"},G=Object(D.detect)(),Q=(a=G.name,Y[a]||K()(a)),X=function(){return!B()("passwords.force-unsupported-platform")&&(e=G.name,t=R(),n=e.trim().toLowerCase(),Object.keys(t).includes(n));var e,t,n},J=n("AX37"),Z=n("Jfop"),W=n("CiVu"),$={safari:J.a,firefox:Z.a,chrome:W.a},ee=n("UZQi"),te=function(){var e=Object(b.d)().t;return d.a.createElement(I.b,null,d.a.createElement(T,{icon:P.a,size:32,color:"var(--slateGrey)"}),d.a.createElement(j.d,{tag:"p"},e("PresentationStep.item1")))},ne=function(){var e=Object(b.d)().t;return d.a.createElement(I.b,null,d.a.createElement(T,{icon:O.a,size:32,color:"var(--slateGrey)"}),d.a.createElement(j.d,{tag:"p"},e("PresentationStep.item2")))},ae=function(){var e=Object(b.d)().t;return d.a.createElement(I.b,null,d.a.createElement(T,{icon:k.a,size:32,color:"var(--slateGrey)"}),d.a.createElement(j.d,{tag:"p"},e("PresentationStep.item3")))},re=function(){var e=Object(b.d)().t,t=q();return d.a.createElement(S.a,{className:"u-ta-left",theme:"danger",description:d.a.createElement(d.a.Fragment,null,d.a.createElement(j.c,{className:"u-pomegranate"},e("PresentationStep.notSupportedInfos.title",{browser:Q})),d.a.createElement(j.d,null,e("PresentationStep.notSupportedInfos.description",{browser:Q}))),action:Object.entries(t).filter((function(e){return"browser"===c()(e,2)[1].type})).map((function(e,t){var n=c()(e,2),a=n[0],r=n[1];return d.a.createElement(_.b,{key:a,href:r.storeUrl,icon:d.a.createElement(C.a,{icon:$[a],size:16,color:"var(--slateGrey)"}),theme:"secondary",label:r.label,className:x()({"u-ml-0":0===t})})}))})},oe=function(e){var t=e.onLetsGo,n=Object(b.d)().t;return d.a.createElement(ee.a,null,d.a.createElement(z.a,null,n("Nav.presentation")),d.a.createElement(M.a,null,d.a.createElement(w.a,null,d.a.createElement("img",{src:L.a,alt:"",height:191}),d.a.createElement(I.e,null,d.a.createElement(I.d,{className:"u-mb-0"},n("PresentationStep.title")),d.a.createElement(j.d,{className:"u-mb-3",tag:"p"},n("PresentationStep.description")),d.a.createElement(I.c,{className:"u-mb-2"},d.a.createElement(te,null),d.a.createElement(ne,null),d.a.createElement(ae,null)),X()?d.a.createElement(I.a,null,d.a.createElement(_.c,{onClick:t,label:n("PresentationStep.cta"),extension:"full"})):d.a.createElement(re,null)))))},se=n("55Ip"),ie=n("7N6H"),le=n("AXZd"),ce=n("edgH"),ue=n("xrMM"),de=n("dfR0"),pe=n("unx8"),me=n.n(pe),fe=n("mwIZ"),be=n.n(fe),he=function(e){return!!B()("passwords.oidc-auth")||be()(e,"capabilities.can_auth_with_oidc")},ve=d.a.createContext({canAuthWithOIDC:!1,isVaultConfigured:!1,hasHint:!1}),ye=ve,ge=n("pVnL"),Ee=n.n(ge),xe=n("AHTZ"),_e=function(e,t){var n=new URL(t.getStackClient().uri),a=t.getInstanceOptions().cozySubdomainType;return Object(xe.b)({cozyUrl:n.origin,slug:e,subDomainType:a})},we=n("sCMN"),je=function(e){var t=e.successRoute,n=e.cancelRoute,a=e.Component,r=U()(e,["successRoute","cancelRoute","Component"]),o=Object(m.useClient)(),s=_e("settings",o),i=_e("passwords",o),l=new URL(t,i).href,c=new URL(n,i).href,u="?redirect_success=".concat(encodeURIComponent(l),"&redirect_cancel=").concat(encodeURIComponent(c)),p=new URL("#/profile/password"+u,s).href;return d.a.createElement(we.a,{slug:"settings",href:p},(function(e){var t=e.onClick,n=e.href;return d.a.createElement(a,Ee()({href:n,onClick:t},r))}))};je.defaultProps={Component:_.b};var Se=je,Ce=n("lSNA"),ze=n.n(Ce),Ie=n("MVZn"),Oe=n.n(Ie),Pe=n("67rm"),ke=n("vPfS"),Ne=n("Bkvo"),Le=window;function Ae(e){var t=new Uint8Array(e);return Le.crypto.getRandomValues(t),t.buffer}function Ue(e){for(var t="",n=new Uint8Array(e),a=0;a<n.byteLength;a++)t+=String.fromCharCode(n[a]);return Le.btoa(t)}function Te(e){var t=Le.crypto.subtle,n=Ae(64),a=Ae(16);return t.importKey("raw",e,{name:"AES-CBC"},!1,["encrypt"]).then((function(e){return t.encrypt({name:"AES-CBC",iv:a},e,n)})).then((function(e){var t=Ue(a),r=Ue(e);return{cipherString:"0.".concat(t,"|").concat(r),key:n}}))}function Me(e){var t,n,a,r=Le.crypto.subtle,o=e.slice(0,32),s=e.slice(32,64),i=Ae(16),l={name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},c={name:"HMAC",hash:"SHA-256"};return r.generateKey(l,!0,["encrypt","decrypt"]).then((function(e){var t=r.exportKey("spki",e.publicKey),n=r.exportKey("pkcs8",e.privateKey);return Promise.all([t,n])})).then((function(e){return t=e[0],n=e[1],r.importKey("raw",o,{name:"AES-CBC"},!1,["encrypt"])})).then((function(e){return r.encrypt({name:"AES-CBC",iv:i},e,n)})).then((function(e){return a=e,r.importKey("raw",s,c,!1,["sign"])})).then((function(e){var t=new Uint8Array(i.byteLength+a.byteLength);return t.set(new Uint8Array(i),0),t.set(new Uint8Array(a),i.byteLength),r.sign(c,e,t)})).then((function(e){var n=Ue(t),r=Ue(i),o=Ue(a),s=Ue(e);return{publicKey:n,privateKey:"2.".concat(r,"|").concat(o,"|").concat(s)}}))}var He=function(){var e=i()(o.a.mark((function e(t,n,a){var r,s,i,l,c,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.stackClient.fetchJSON("POST","/bitwarden/api/accounts/prelogin");case 2:return r=e.sent,s=r.Kdf,i=r.KdfIterations,e.next=7,n.computeMasterKey(a,i,s);case 7:return l=e.sent,e.next=10,n.computeHashedPassword(a,l);case 10:return c=e.sent,e.next=13,Te(l.encKey);case 13:return u=e.sent,e.next=16,Me(u.key);case 16:return d=e.sent,e.next=19,t.stackClient.fetchJSON("PUT","/settings/passphrase",{new_passphrase:c,key:u.cipherString,publicKey:d.publicKey,privateKey:d.privateKey,iterations:i,force:!0});case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Re=function(e){var t=e.onSuccess,n=Object(b.d)().t,a=Object(m.useClient)(),r=Object(Ne.c)();window.vaultClient=r;var s=Object(u.useState)((function(){return{passphrase:"",passphraseRepeat:""}})),l=c()(s,2),p=l[0],f=l[1],h=p.passphrase,v=Object(u.useState)(!1),y=c()(v,2),g=y[0],E=y[1],x=Object(u.useState)(!1),j=c()(x,2),S=j[0],C=j[1],z=Object(u.useCallback)((function(e){var t=e.target,n=t.value,a=t.name;f((function(e){return Oe()({},e,ze()({},a,n))})),E(!0)}),[f]),I=Object(u.useCallback)(i()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,He(a,r,h);case 4:t(),e.next=14;break;case 7:throw e.prev=7,e.t0=e.catch(1),console.error(e.t0),console.warn("Error while setting passphrase"),Pe.a.error(n("SecurityStepOIDC.passphrase.error-setting-passphrase")),C(!1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,7]])}))),[a,r,h,t,n]),O=p.passphrase===p.passphraseRepeat;return d.a.createElement(w.a,{spacing:"xs"},d.a.createElement(ke.a,{name:"passphrase",autoComplete:"new-password",id:"new-passphrase",placeholder:n("SecurityStepOIDC.passphrase.placeholder"),value:p.passphrase,onChange:z,showStrength:!0,error:g&&!O}),d.a.createElement(ke.a,{name:"passphraseRepeat",autoComplete:"new-password",id:"new-passphrase-repeat",placeholder:n("SecurityStepOIDC.passphrase.confirmationPlaceholder"),value:p.passphraseRepeat,onChange:z,error:g&&!O}),d.a.createElement(_.c,{theme:"primary",extension:"full",label:n("SecurityStepOIDC.next-step"),disabled:!O||""===p.passphrase,onClick:I,busy:S}))},qe=function(e){var t=e.onSkip,n=Object(b.d)().t;return d.a.createElement(ee.a,null,d.a.createElement(M.a,null,d.a.createElement(le.a,null,d.a.createElement(w.a,null,d.a.createElement("img",{src:me.a,alt:"",width:204,height:137}),d.a.createElement(j.b,null,n("SecurityStep.title")),d.a.createElement(w.a,{spacing:"xxl"},d.a.createElement(j.d,null,n("SecurityStep.description")),d.a.createElement(ue.a,null,d.a.createElement(de.b,{className:"u-ta-left u-mv-0"},d.a.createElement(de.a,{dangerouslySetInnerHTML:{__html:Object(ie.a)(n("SecurityStep.advices.strong_passphrase"))}}),d.a.createElement(de.a,{dangerouslySetInnerHTML:{__html:Object(ie.a)(n("SecurityStep.advices.memorize"))}}),d.a.createElement(de.a,null,d.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(ie.a)(n("SecurityStep.advices.our_tip"))}}),d.a.createElement(ce.a,{color:!1,password:n("SecurityStep.password-example")})))),d.a.createElement(w.a,{spacing:"xs"},d.a.createElement(Se,{label:n("SecurityStep.enhance-password"),successRoute:"#/installation/configureExtension",cancelRoute:"#/installation/hint",extension:"full"}),d.a.createElement(_.c,{tag:se.b,onClick:t,label:n("SecurityStep.keep-password"),theme:"secondary",className:"u-mt-half",extension:"full"})))))))},De=function(e){var t=e.onNext,n=Object(b.d)().t,a=d.a.useContext(ve).isVaultConfigured,r=null===B()("passwords.force-vault-configured")?a:B()("passwords.force-vault-configured");return d.a.createElement(ee.a,null,d.a.createElement(M.a,null,d.a.createElement(le.a,null,d.a.createElement(w.a,null,d.a.createElement("img",{src:me.a,alt:"",width:204,height:137}),d.a.createElement(j.b,null,n(r?"SecurityStepOIDC.title-configured":"SecurityStepOIDC.title")),d.a.createElement(w.a,{spacing:"xl"},d.a.createElement(j.d,null,n(r?"SecurityStepOIDC.description-configured":"SecurityStepOIDC.description")),r?d.a.createElement("div",null,d.a.createElement(Se,{extension:"full",theme:"secondary",label:n("UpdateCozyPassPassword"),successRoute:"#/installation/configureExtension",cancelRoute:"#/installation/configureExtension"})):d.a.createElement(d.a.Fragment,null,d.a.createElement(Re,{onSuccess:t}),d.a.createElement(ue.a,null,d.a.createElement(de.b,{className:"u-ta-left u-mv-0"},d.a.createElement(de.a,{dangerouslySetInnerHTML:{__html:Object(ie.a)(n("SecurityStep.advices.strong_passphrase"))}}),d.a.createElement(de.a,{dangerouslySetInnerHTML:{__html:Object(ie.a)(n("SecurityStep.advices.memorize"))}}),d.a.createElement(de.a,null,d.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(ie.a)(n("SecurityStep.advices.our_tip"))}}),d.a.createElement(ce.a,{color:!1,password:n("SecurityStep.password-example")}))))))))))},Ve=function(e){var t=Object(m.useClient)();return he(t)?d.a.createElement(De,e):d.a.createElement(qe,e)},Ke=n("zA8p"),Fe=n("tTfR"),Be=n.n(Fe),Ye=n("V2U0"),Ge=Object(m.withClient)((function(e){var t=Object(m.useClient)(),n=e.goToNextStep,a=Object(b.d)().t,r=Object(u.useState)(""),s=c()(r,2),l=s[0],p=s[1],f=Object(u.useState)(!1),h=c()(f,2),v=h[0],y=h[1],g=function(){var e=i()(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),y(!0),e.prev=2,e.next=5,t.getStackClient().fetchJSON("PUT","/settings/hint",{hint:l});case 5:n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),Pe.a.error(a("HintStep.error")),console.error(e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,8,12,15]])})));return function(t){return e.apply(this,arguments)}}();return d.a.createElement(ee.a,null,d.a.createElement(z.a,null,a("Nav.installation")),d.a.createElement(M.a,null,d.a.createElement(le.a,null,d.a.createElement(w.a,{spacing:"xxl",tag:"form",onSubmit:g},d.a.createElement(w.a,{spacing:"m"},d.a.createElement("img",{src:Be.a,alt:"",height:137}),d.a.createElement(j.b,{className:"u-mt-1"},a("HintStep.title")),d.a.createElement(j.d,null,null===e.hasHint?d.a.createElement(Ye.a,{size:"small"}):!1===e.hasHint?a("HintStep.please-configure-hint"):a("HintStep.hint-configured"))),d.a.createElement(w.a,{spacing:"m"},d.a.createElement(Ke.a,{placeholder:a("HintStep.placeholder"),value:l,onChange:function(e){return p(e.target.value)}}),d.a.createElement(j.d,null,a("HintStep.description"))),d.a.createElement(_.c,{label:a("HintStep.submit"),disabled:v||""===l,busy:v,extension:"full",className:"u-mt-2"}),e.hasHint?d.a.createElement(_.c,{label:a("HintStep.skip"),disabled:v,extension:"full",onClick:e.onSkip,theme:"secondary",className:"u-mt-half"}):null))))})),Qe="installed",Xe="not-installed",Je="connected",Ze=function(){var e=Object(u.useState)(Xe),t=c()(e,2),n=t[0],a=t[1],r=Object(F.useFlag)("passwords.extension-check-disabled");return Object(u.useEffect)((function(){if(!r){var e=function(){var e=document.createEvent("Event");e.initEvent("cozy.passwordextension.check-status"),document.dispatchEvent(e)},t=function(){a(Qe)},n=function(){a(Je),s()};document.addEventListener("cozy.passwordextension.installed",t),document.addEventListener("cozy.passwordextension.connected",n),e();var o=setInterval(e,1e3),s=function(){clearInterval(o),document.removeEventListener("extensioninstalled",t),document.removeEventListener("extensionconnected",n)};return s}}),[r]),n},We=n("vA17"),$e=n("snfs"),et=n("8uY4"),tt=n.n(et),nt=n("LNIv"),at=(n("nvt4"),n("g4Do")),rt=function(e){return d.a.createElement(C.a,Ee()({icon:at.a,size:16,color:"var(--charcoalGrey)",className:"CloudIcon"},e))},ot=(n("wIVe"),function(e){return d.a.createElement(nt.c,{className:"u-inline-flex"},d.a.createElement(nt.b,null,d.a.createElement(rt,null)),d.a.createElement(nt.a,{className:"u-ml-half"},d.a.createElement(j.a,Ee()({tag:"strong"},e,{className:"WithCozyIcon__text"}))))}),st=n("QVEU"),it=n.n(st),lt=n("qFRD"),ct=n("UEjL"),ut=n("YDcR"),dt=n.n(ut),pt=n("N8QL"),mt=n.n(pt),ft=n("0IMI"),bt=n.n(ft),ht=n("ARCF"),vt=n.n(ht),yt=(n("BQs0"),{en:dt.a,fr:mt.a}),gt={en:bt.a,fr:vt.a},Et=function(e){var t=Object(b.d)().lang,n=gt[t]||gt.en;return d.a.createElement("a",Ee()({},e,{className:x()(e.className,"StoreButton")}),d.a.createElement("img",{src:n,className:"StoreButton__Image"}))},xt=function(e){var t=Object(b.d)().lang,n=yt[t]||yt.en;return d.a.createElement("a",Ee()({},e,{className:x()(e.className,"StoreButton")}),d.a.createElement("img",{src:n,className:"StoreButton__Image"}))},_t=function(e){var t=e.icon,n=U()(e,["icon"]),a="primary"===e.theme?"var(--white)":"var(--slateGrey)";return d.a.createElement(_.b,Ee()({icon:d.a.createElement(C.a,{icon:t,size:16,color:a}),theme:"secondary",className:"u-mb-half"},n))},wt=it()(Object.values(H).filter((function(e){return e.os})),"os"),jt=function(e){var t=Object(u.useState)(!1),n=c()(t,2),a=n[0],r=n[1],o=Object($e.isAndroid)()?"android":Object($e.isIOS)()?"ios":null,s=Object(u.useCallback)((function(){r(!0)}),[r]),i=Object(u.useCallback)((function(){r(!1)}),[r]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(_t,Ee()({icon:ct.a,href:null!==o?wt[o].storeUrl:null,onClick:null===o?s:null},e)),a?d.a.createElement(lt.a,{open:a,onClose:i,content:d.a.createElement("div",{className:"u-flex u-flex-column u-flex-justify-center"},d.a.createElement("div",{className:"u-ta-center"},d.a.createElement(Et,{href:wt.ios.storeUrl}),d.a.createElement(xt,{href:wt.android.storeUrl})))}):null)},St=function(e){var t=Object(b.d)().t,n=q();return d.a.createElement(ue.a,e,d.a.createElement(w.a,{spacing:"m"},d.a.createElement(j.d,null,t("AvailablePlatforms.text")),d.a.createElement("div",null,Object.entries(n).filter((function(e){return"browser"===c()(e,2)[1].type})).map((function(e){var t=c()(e,2),n=t[0],a=t[1];return d.a.createElement(_t,{key:n,href:a.storeUrl,icon:$[n],label:a.label})})),d.a.createElement(jt,{label:t("AvailablePlatforms.smartphone")}))))},Ct=Object(D.detect)(),zt=function(e){var t=e.onExtensionInstalled,n=Object(m.useClient)(),a=Object(b.d)().t,r=new URL(n.getStackClient().uri),o=(q()[Ct.name]||{}).storeUrl,s=Object($e.isMobile)(),i=Ze();return Object(u.useEffect)((function(){i==Qe&&t&&t()}),[i,t]),d.a.createElement(ee.a,null,d.a.createElement(z.a,null,a("Nav.installation")),d.a.createElement(M.a,null,d.a.createElement(le.a,null,s?d.a.createElement(w.a,{spacing:"m"},d.a.createElement(j.b,null,a("InstallationStepMobile.title")),d.a.createElement(j.d,null,a("InstallationStepMobile.description")),d.a.createElement(jt,{label:a("InstallationStepMobile.installApp"),theme:"primary"})):d.a.createElement(w.a,{spacing:"xxl"},d.a.createElement(w.a,{spacing:"m"},d.a.createElement("img",{src:tt.a,alt:"",width:230,height:115}),d.a.createElement(j.b,null,a("InstallationStep.title")),d.a.createElement(j.d,null,d.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(ie.a)(a("InstallationStep.descriptionStart",{address:r.host}))}})," ",d.a.createElement(ot,null,a("InstallationStep.cozyExtension"))," ",d.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(ie.a)(a("InstallationStep.descriptionEnd",{address:r.host}))}}))),d.a.createElement(ue.a,{className:"u-ta-left"},d.a.createElement(We.b,{className:"u-mv-0"},d.a.createElement(We.a,{dangerouslySetInnerHTML:{__html:Object(ie.a)(a("InstallationStep.step1.".concat(Ct.name)))}}),d.a.createElement(We.a,{dangerouslySetInnerHTML:{__html:Object(ie.a)(a("InstallationStep.step2.".concat(Ct.name)))}}),d.a.createElement(We.a,{dangerouslySetInnerHTML:{__html:Object(ie.a)(he(n)?a("InstallationStep.step3-oidc",{address:r.host}):a("InstallationStep.step3",{address:r.host}))}}))),d.a.createElement(_.b,{href:o,target:"_blank",label:a("InstallationStep.cta"),extension:"full",className:"u-mt-2-half"})))))},It=n("sKEN"),Ot=function(){var e=Object(b.d)().t,t=Object(m.useClient)();return d.a.createElement(w.a,{spacing:"l"},d.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(ie.a)(e("Help.faq"))}}),he(t)?d.a.createElement(Se,{successRoute:"#/installation/configureExtension",cancelRoute:"#/installation/configureExtension",Component:"a"},d.a.createElement(C.a,{size:12,icon:It.a})," ",e("UpdateCozyPassPassword")):null,d.a.createElement(St,null))},Pt=n("iH5P"),kt=n.n(Pt),Nt=(n("Ho/Y"),n("ziN0")),Lt=function(){var e=Object(m.useClient)(),t=Object(b.d)().t,n=new URL(e.getStackClient().uri);return d.a.createElement(ee.a,null,d.a.createElement(M.a,null,d.a.createElement(le.a,null,d.a.createElement(w.a,{spacing:"xxl"},d.a.createElement("div",{className:"InstalledStep__illustration"},d.a.createElement("img",{src:kt.a,alt:"",width:"512",height:"220"}),d.a.createElement(C.a,{icon:Nt.a,width:96,height:86})),d.a.createElement(w.a,{spacing:"m"},d.a.createElement(j.b,{className:"InstalledStep__title"},t("InstalledStep.title")),d.a.createElement(j.d,{className:"InstalledStep__description"},d.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(ie.a)(t("InstalledStep.descriptionStart",{address:n.host}))}})," ",d.a.createElement(rt,null)," ",d.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(ie.a)(t(he(e)?"InstalledStep.descriptionEnd-oidc":"InstalledStep.descriptionEnd",{address:n.host}))}}))),d.a.createElement(Ot,null)))))},At=n("Pmq3"),Ut=n.n(At),Tt=n("4gMP"),Mt=n.n(Tt),Ht={chrome:Ut.a,firefox:Mt.a},Rt=function(){var e=Object(b.d)().t;return d.a.createElement("p",null,d.a.createElement(_.b,{theme:"secondary",href:"#/installation/import"},e("Help.import")))},qt=function(){var e=Object(b.d)().t;return d.a.createElement(M.a,null,d.a.createElement(z.a,null,e("Nav.installation")),d.a.createElement(le.a,null,d.a.createElement(w.a,{spacing:"xxl"},d.a.createElement("img",{height:230,width:512,src:Ht[G.name],alt:""}),d.a.createElement(w.a,{spacing:"m"},d.a.createElement(j.b,null,e("ConnectedStep.title")),d.a.createElement(j.d,null,e("ConnectedStep.description"))),d.a.createElement(w.a,{spacing:"l"},d.a.createElement(Rt,null),d.a.createElement(Ot,null)))))},Dt=function(e){var t=e.onConnected,n=Ze();return n==Qe?d.a.createElement(Lt,{onConnected:t}):n===Je?d.a.createElement(qt,null):d.a.createElement(zt,null)},Vt=function(){var e=i()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B()("passwords.force-no-hint")){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,t.getStackClient().collection("io.cozy.settings").get("hint");case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();n("6ewI");var Kt={presentation:0,security:1,hint:2,configureExtension:3};t.a=function(){var e=Object(f.g)(),t=Object(b.d)().t,n=Object(u.useContext)(p.a),a=n&&n.extension_installed,r=Object(u.useState)(e.step?Kt[e.step]:a?Kt.configureExtension:Kt.presentation),s=c()(r,2),l=s[0],E=s[1],x=Object(m.useClient)(),_=he(x),w=function(e,t){return[e("Nav.presentation"),e(t?"InstallationStep.steps.choose-pass-password":"InstallationStep.steps.improve-password"),e("InstallationStep.steps.leave-hint"),Object($e.isMobile)()?e("InstallationStep.steps.install-app"):e("InstallationStep.steps.install-extension")]}(t,_),j=Object(u.useState)(null),S=c()(j,2),C=S[0],I=S[1];Object(u.useEffect)((function(){(function(){var e=i()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt(x);case 2:t=e.sent,I(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l,x]);var O=Object(u.useMemo)((function(){return{hasHint:C,isVaultConfigured:a,canAuthWithOIDC:_}}),[C,a,_]),P=!_||a;return d.a.createElement(ye.Provider,{value:O},d.a.createElement("div",{className:"InstallationPage"},d.a.createElement(z.a,null,t("Nav.installation")),d.a.createElement(h.a,{alternativeLabel:!0,nonLinear:P,activeStep:l},w.map((function(e,t){var n={error:t===Kt.hint&&a&&!1===C};return d.a.createElement(v.a,{disabled:!0,key:e,onClick:P?function(){return E(t)}:null},d.a.createElement(y.a,null,d.a.createElement(g.a,n,e)))}))),function(e,t,n){var a=n.hasHint;switch(e){case Kt.presentation:return d.a.createElement(oe,{onLetsGo:function(){return t(Kt.security)}});case Kt.security:return d.a.createElement(Ve,{onNext:function(){return t(Kt.hint)},onSkip:function(){return t(Kt.hint)}});case Kt.hint:return d.a.createElement(Ge,{hasHint:a,onSkip:function(){return t(Kt.configureExtension)},goToNextStep:function(){return t(Kt.configureExtension)}});case Kt.configureExtension:return d.a.createElement(Dt,null)}}(l,E,{hasHint:C})))}},"4gMP":function(e,t){e.exports="/img/extension-connected-firefox.a9b43fc9e559cf5679db0dde793ead1b.svg"},"67xI":function(e,t,n){},"6ewI":function(e,t,n){},"7dT6":function(e){e.exports=JSON.parse('{"Nav":{"presentation":"Presentation","security":"Security","installation":"Installation","import":"Import"},"PresentationStep":{"title":"Stop losing your passwords","description":"Keep your passwords safe in your Cozy","item1":"Your passwords will be saved once and for all in your 100% personal and secured safe.","item2":"Your cozy will allow you to instantly fill in the forms of websites, for easy connection to all your services.","item3":"You can connect your brands to your Cozy to recover your data in the blink of an eye.","cta":"Let\'s go!","notSupportedInfos":{"title":"Not available on %{browser}","description":"The feature is currently not available on %{browser}. You can however take advantage of it on the following browsers:"}},"SecurityStep":{"title":"Improve your Cozy password","description":"The password of your Cozy becomes the unique key to decrypt your securely stored passwords","advices":{"strong_passphrase":"**Privilege a strong password:** A long password with numbers and special characters will be impossible to break.","memorize":"**Memorize it well:** In case of loss, you will not be able to recover the encrypted passwords in your cozy.","our_tip":"**Our tip:** Find a short phrase that suits you, for example: "},"enhance-password":"Improve my password","keep-password":"Keep my current password","password-example":"Claude est le meilleur nuage français !"},"SecurityStepOIDC":{"title":"Choose your Cozy Pass password","title-configured":"Cozy Pass password configured","description":"Your Cozy Pass password becomes the unique key to decrypt your securely stored passwords","description-configured":"You configured your Cozy Pass password earlier, your passwords vault is ready.","next-step":"Next","passphrase":{"placeholder":"Cozy Pass Password","confirmationPlaceholder":"Confirm the password","error-setting-passphrase":"Could not set passphrase, please retry later"}},"HintStep":{"title":"Leave a password hint","description":"The hint will be sent to you by email in case you forgot your password, choose a hint that only you can understand","placeholder":"Hint (required)","submit":"Save the hint","skip":"Skip","error":"Error while updating hint","please-configure-hint":"Please configure a hint","hint-configured":"Hint configured ✅ You can still change it here."},"InstallationStep":{"title":"Install Cozy extension","descriptionStart":"Add the","descriptionEnd":"to your browser. This installation is necessary to allow you to automatically fill in and save your passwords while browsing.","cozyExtension":"Cozy extension","steps":{"choose-pass-password":"Choose Cozy Pass password","pass-password-chosen":"Cozy Pass password configured ✅","improve-password":"Improve password","leave-hint":"Leave hint","install-extension":"Install extension","install-app":"Install app"},"step1":{"chrome":"Click below to open the Chrome Web Store","firefox":"Click below to open Firefox Add-ons","safari":"Click below to open the Mac App Store then click on **Get**"},"step2":{"chrome":"Then click on **Add to Chrome**","firefox":"Then click on **Add to Firefox**","safari":"Then open Safari preferences to activate the extension (Preferences > Extensions)"},"step3":"Log in with your address **%{address}** and your password!","step3-oidc":"Log in with your address **%{address}** and your Cozy Pass password!","cta":"Install Cozy extension"},"InstallationStepMobile":{"title":"Install the Cozy Pass App","description":"Access your credentials on the go, and automatically fill forms on your mobile.","installApp":"Install the app"},"InstalledStep":{"title":"It\'s almost finished!","descriptionStart":"Click on the ","descriptionEnd":"icon on the top right corner of your screen to log in with your address **%{address}** and your Cozy password.","descriptionEnd-oidc":"icon on the top right corner of your screen to log in with your address **%{address}** and your Cozy Pass password."},"ConnectedStep":{"title":"Your password manager is configured!","description":"Go to your Cozy browser extension to manage your passwords"},"Help":{"faq":"<a href=\'https://help.cozy.io/article/405-how-to-configure-your-password-manager\' target=\'_blank\' rel=\'noopener noreferrer\'>__Help:__ I can\'t connect</a>","import":"Import my credentials from another manager"},"AvailablePlatforms":{"text":"Find the Cozy extension on the following platforms:","smartphone":"Smartphone","smartphone-soon":"Smartphone (available soon)"},"ImportPage":{"title":"Import your credentials","options":{"label":"1. Select the source format","placeholder":"Select a format"},"file":{"label":"2. Select the file to import"},"submit":"Import","modal":{"importing":{"title":"Importing your credentials"},"imported":{"title":"Credentials imported","content":"You can now find your credentials in your Cozy vault."},"errored":{"title":"Error while importing your credentials","content":"There was an error while importing your credentials. Please try again."},"close":"OK"}},"UpdateCozyPassPassword":"Update Cozy Pass password","manifest":{"short_description":"Stop losing your passwords","long_description":"Keep your passwords safe in your Cozy.\\n\\nYour passwords are saved once and for all in your 100% personal and secured safe.\\n\\nYour Cozy allows you to instantly fill in the forms of websites, for easy connection to all your services.\\n\\nConnect your brands to your Cozy to recover your data in the blink of an eye."}}')},"8/3g":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("wvTK"),s=n("yFc8"),i=n("1I/2"),l=cozy.bar.BarCenter;t.a=function(e){var t=e.children;return Object(i.b)().isMobile?r.a.createElement(l,null,r.a.createElement(s.a,{variant:"normal"},r.a.createElement(o.a,null,t))):null}},"8uY4":function(e,t){e.exports="/img/browser-extension.5ab75fe30b6fae717f046eb5d0375a45.svg"},"9pOX":function(e){e.exports=JSON.parse('{"Nav":{"presentation":"Présentation","security":"Sécurité","installation":"Installation","import":"Import"},"PresentationStep":{"title":"Ne perdez plus vos mots de passe","description":"Conservez vos mots de passe en sécurité dans votre Cozy","item1":"Vos mots de passe seront enregistrés une bonne fois pour toute dans votre coffre 100% personnel et sécurisé.","item2":"Votre cozy vous permettra un remplissage instantané des formulaires des sites internet, pour une connexion facilitée à tous vos services.","item3":"Vous pourrez connecter vos marques à votre Cozy pour récupérer vos données en un clin d\'oeil.","cta":"C\'est parti !","notSupportedInfos":{"title":"Indisponible sur %{browser}","description":"La fonctionnalité n\'est actuellement pas proposée sur %{browser}. Vous pouvez toutefois en profiter sur les navigateurs suivants :"}},"SecurityStep":{"title":"Améliorer votre mot de passe Cozy","description":"Le mot de passe de votre Cozy devient l\'unique clé pour décoder vos mots de passe sauvegardés de manière sécurisée","advices":{"strong_passphrase":"**Privilégiez un mot de passe fort :** Un mot de passe long avec des chiffres et des caractères spéciaux sera impossible à casser.","memorize":"**Mémorisez-le bien :** En cas de perte, il vous sera impossible de récupérer les mots de passe chiffrés dans votre Cozy.","our_tip":"**Notre conseil :** Trouvez une phrase courte qui vous corresponde, par exemple : "},"enhance-password":"Améliorer mon mot de passe","keep-password":"Garder mon mot de passe actuel","password-example":"Claude is the best French cloud !"},"SecurityStepOIDC":{"title":"Choisissez votre mot de passe Cozy Pass","title-configured":"Votre mot de passe Cozy Pass est configuré","description":"Votre mot de passe Cozy Pass devient la clé unique pour décoder vos mots de passe sauvegardés de manière sécurisée.","description-configured":"Vous avez configuré votre mot de passe Cozy Pass, vous pouvez maintenant stocker vos mot de passe.","passphrase":{"placeholder":"Mot de passe Cozy Pass","confirmationPlaceholder":"Confirmez le mot de passe"},"next-step":"Suivant"},"HintStep":{"title":"Définir un indice de mot de passe","description":"L\'indice vous sera envoyé par email en cas d\'oubli de votre mot de passe, choisissez un indice que vous-seul pouvez comprendre","placeholder":"Indice (obligatoire)","submit":"Enregistrer l\'indice","skip":"Passer","error":"Erreur lors de la mise à jour de l\'indice","please-configure-hint":"Merci de configurer un indice","hint-configured":"Indice défini ✅ Vous pouvez toujours le changer ici."},"InstallationStep":{"title":"Installer l\'extension Cozy","descriptionStart":"Ajoutez","descriptionEnd":"à votre navigateur. Cette installation est nécessaire pour vous permettre de remplir et enregistrer automatiquement vos mots de passe lors de votre navigation.","cozyExtension":"l\'extension Cozy","step1":{"chrome":"Cliquez ci-dessous pour ouvrir le Chrome Web Store","firefox":"Cliquez ci-dessous pour ouvrir Firefox Add-ons","safari":"Cliquez ci-dessous pour ouvrir le Mac App Store puis cliquez sur **Obtenir**"},"step2":{"chrome":"Cliquez ensuite sur **Ajouter à Chrome**","firefox":"Cliquez ensuite sur **Ajouter à Firefox**","safari":"Ouvrez ensuite les préférences Safari pour activer l\'extension (Préférences > Extensions)"},"steps":{"choose-pass-password":"Choisir votre mot de passe Cozy Pass","improve-password":"Renforcer le mot de passe de votre Cozy","leave-hint":"Définir un indice","install-extension":"Installer l\'extension","install-app":"Installer l\'app"},"step3":"Connectez-vous avec votre adresse **%{address}** et votre mot de passe !","step3-oidc":"Connectez-vous avec votre adresse **%{address}** et votre mot de passe Cozy Pass !","cta":"Installer l\'extension Cozy"},"InstallationStepMobile":{"title":"Installer l\'application Cozy Pass","description":"Vous permet d\'accéder à mots de passe depuis votre mobile, et remplis vos mots de passe automatiquement dans les formulaires.","installApp":"Installer l\'application"},"InstalledStep":{"title":"C\'est presque fini !","descriptionStart":"Cliquez sur l\'icône","descriptionEnd":"en haut à droite de votre écran pour vous connecter à l\'aide de votre addresse **%{address}** et de votre mot de passe Cozy.","descriptionEnd-oidc":"en haut à droite de votre écran pour vous connecter à l\'aide de votre addresse **%{address}** et de votre mot de passe Cozy Pass."},"ConnectedStep":{"title":"Votre gestionnaire de mots de passe est configuré !","description":"Rendez vous sur votre extension navigateur Cozy pour gérer vos mots de passe"},"Help":{"faq":"<a href=\'https://support.cozy.io/article/394-comment-puis-je-parametrer-mon-gestionnaire-de-mot-de-passe\' target=\'_blank\' rel=\'noopener noreferrer\'>__Aide :__ Je ne parviens pas à me connecter</a>","import":"Importer mes identifiants à partir d\'un autre gestionnaire"},"AvailablePlatforms":{"text":"Retrouvez l\'extension Cozy sur les plateformes suivantes :","smartphone":"Smartphone","smartphone-soon":"Smartphone (disponible bientôt)"},"ImportPage":{"title":"Importez vos identifiants","options":{"label":"1. Sélectionnez le format source","placeholder":"Sélectionner un format"},"file":{"label":"2. Sélectionnez le fichier à importer"},"submit":"Importer","modal":{"importing":{"title":"Import de vos identifiants en cours"},"imported":{"title":"Vos identifiants ont été importés","content":"Vous pouvez maintenant trouver vos identifiants dans votre gestionnaire de mots de passe cozy."},"errored":{"title":"Erreur lors de l\'import de vos identifiants","content":"Une erreur est survenue lors de l\'import de vos identifiants. Veuillez réessayer."},"close":"OK"}},"UpdateCozyPassPassword":"Modifier le mot de passe Cozy Pass","manifest":{"short_description":"Ne perdez plus vos mots de passe","long_description":"Conservez vos mots de passe en sécurité dans votre Cozy.\\n\\nVos mots de passe sont enregistrés une bonne fois pour toute dans votre coffre 100% personnel et sécurisé.\\n\\nVotre Cozy vous permet un remplissage instantané des formulaires des sites Internet, pour une connexion facilitée à tous vos services.\\n\\nConnectez vos marques à votre Cozy pour récupérer vos données en un clin d\'oeil."}}')},ARCF:function(e,t){e.exports="/img/app-store-badge-fr.abe596ebde46b516c1bbc1623c7dac35.png"},BQs0:function(e,t,n){},"Ho/Y":function(e,t,n){},LiWt:function(e,t,n){"use strict";n.r(t);n("VxdY");var a,r=n("q1tI"),o=n.n(r),s=n("SH7X"),i=n.n(s),l=n("Bkvo"),c=n("i8i4"),u=n("buk/"),d=n("kdbL"),p=n.n(d),m=n("PRV4"),f=n("o8Rm"),b=Object(m.a)({disableGlobal:!0}),h=function(e,t){return/^\{\{\.[a-zA-Z]*\}\}$/.test(e)?t:e};document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("[role=application]").dataset,t=h(e.cozyIconPath,n("ZAKO")),r=h(e.cozyAppNamePrefix||n("pZg0").name_prefix,""),d=h(e.cozyAppName,n("pZg0").name);a=h(e.cozyLocale,"en");var m=i.a.fromDOM();window.cozyClient=m,m.registerPlugin(p.a.plugin),cozy.bar.init({appName:d,appNamePrefix:r,iconPath:t,lang:a,replaceTitleOnMobile:!0}),function(e){var t=n("xYwX").default;Object(c.render)(o.a.createElement(f.b,{generateClassName:b},o.a.createElement(u.b,{lang:a,dictRequire:function(e){return n("/KVF")("./".concat(e))}},o.a.createElement(s.CozyProvider,{client:e},o.a.createElement(l.a,{instance:e.getStackClient().uri},o.a.createElement(t,null))))),document.querySelector("[role=application]"))}(m)}))},N8QL:function(e,t){e.exports="/img/google-play-badge-fr.0a05c705dc55c03bd907398271010d5c.png"},Pmq3:function(e,t){e.exports="/img/extension-connected-chrome.046bfaa38929d4011cc66156e616140f.svg"},UZQi:function(e,t,n){"use strict";var a=n("pVnL"),r=n.n(a),o=n("QILm"),s=n.n(o),i=n("q1tI"),l=n.n(i),c=n("TSYQ"),u=n.n(c);t.a=function(e){var t=e.className,n=s()(e,["className"]);return l.a.createElement("div",r()({className:u()("u-pv-2","u-mt-auto","u-mb-auto",t)},n))}},VxdY:function(e,t,n){},YDcR:function(e,t){e.exports="/img/google-play-badge-en.bcfec571c0f33873d33d84a87ee154c5.png"},ZAKO:function(e,t){e.exports="/img/icon.0cd71303f65f088b957db2756d1ce7e9.svg"},fH6n:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("buk/"),s=n("55Ip"),i=n("+BRz"),l=n("kdbL"),c=n.n(l),u=function(e,t){return!!e&&!t.pathname.includes("import")};t.a=c.a.connect((function(){var e=Object(o.d)().t,t=Object(a.useContext)(i.a);return t&&t.extension_installed?r.a.createElement("aside",{className:"o-sidebar"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"c-nav"},r.a.createElement("li",{className:"c-nav-item"},r.a.createElement(s.c,{to:"/installation",className:"c-nav-link",isActive:u,activeClassName:"is-active"},e("Nav.installation"))),r.a.createElement("li",{className:"c-nav-item"},r.a.createElement(s.c,{to:"/installation/import",className:"c-nav-link",activeClassName:"is-active"},e("Nav.import")))))):null}))},iH5P:function(e,t){e.exports="/img/setup-tutorial.43ced005dc5056bd35c5fe2aec6be6c1.gif"},isux:function(e,t,n){"use strict";var a=n("o0o1"),r=n.n(a),o=n("yXPU"),s=n.n(o),i=n("J4zp"),l=n.n(i),c=n("q1tI"),u=n.n(c),d=n("Bkvo"),p=n("buk/"),m=n("X+Uv"),f=n("kyGY"),b=n("UZQi"),h=n("v5lq"),v=n("w7SU"),y=n("KXWi"),g=n("cLsY"),E=n("9u/4"),x=n("V2U0"),_=n("pVnL"),w=n.n(_),j=n("RIqP"),S=n.n(j),C=n("QILm"),z=n.n(C),I=n("17x9"),O=n.n(I),P=n("jLsa"),k=function(e){var t=e.vaultClient,n=z()(e,["vaultClient"]),a=t.getImportOptions(),r=[].concat(S()(a.featured),S()(a.regular)).map((function(e){return{value:e.id,label:e.name}}));return u.a.createElement(P.a,w()({type:"select"},n,{options:r}))};k.propTypes={vaultClient:O.a.shape({getImportOptions:O.a.func}).isRequired};var N=k,L=function(e,t){return new Promise((function(n,a){var r=new FileReader;r.readAsText(e,"utf-8"),r.onload=function(r){if("lastpasscsv"===t&&"text/html"===e.type){var o=(new DOMParser).parseFromString(r.target.result,"text/html").querySelector("pre");return null!=o?void n(o.textContent):void a()}n(r.target.result)},r.onerror=function(){a()}}))},A=n("i9cR"),U=n.n(A),T="undefined"!=typeof window&&window.minilog?window.minilog:U.a,M=T("passwords");T.suggest.allow("passwords","log"),T.suggest.allow("passwords","info");var H=M,R=n("kdbL"),q=n.n(R),D=n("1I/2"),V=n("8/3g");t.a=Object(d.d)((function(e){var t=e.vaultClient,n=Object(p.d)().t,a=Object(D.b)().isMobile,o=Object(c.useState)(),i=l()(o,2),_=i[0],w=i[1],j=Object(c.useState)("waiting"),S=l()(j,2),C=S[0],z=S[1],I=Object(c.useState)(null),O=l()(I,2),P=O[0],k=O[1],A=Object(c.useRef)(null),U=function(){var e=s()(r.a.mark((function e(){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(A.current.files[0]);case 3:n=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),z("errored"),H.error(e.t0),e.abrupt("return");case 11:return e.prev=11,e.next=14,t.import(n,_.value);case 14:a=e.sent,k(a),z("imported"),e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(11),z("errored"),e.abrupt("return");case 23:case"end":return e.stop()}}),e,null,[[0,6],[11,19]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=s()(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),z("importing"),k(null),e.next=5,t.isLocked();case 5:if(e.sent){e.next=9;break}return e.next=9,U();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,u.a.createElement(h.a,null,u.a.createElement(m.a,{spacing:"l"},a?null:u.a.createElement(f.b,null,n("ImportPage.title")),u.a.createElement(V.a,null,n("Nav.import")),u.a.createElement("form",{onSubmit:T},u.a.createElement(N,{vaultClient:t,value:_,onChange:w,label:n("ImportPage.options.label"),placeholder:n("ImportPage.options.placeholder")}),u.a.createElement(v.a,{htmlFor:"file"},n("ImportPage.file.label")),u.a.createElement("input",{type:"file",ref:A,id:"file"}),u.a.createElement(y.c,{type:"submit",label:n("ImportPage.submit"),extension:"full",className:"u-mt-1"}))))),"waiting"!==C?u.a.createElement(g.b,{closable:!1},u.a.createElement(E.b,null,u.a.createElement(f.b,null,"importing"===C?n("ImportPage.modal.importing.title"):null,"imported"===C?n("ImportPage.modal.imported.title"):null,"errored"===C?n("ImportPage.modal.errored.title"):null)),u.a.createElement(g.a,null,u.a.createElement(d.b,{onUnlock:U,closable:!0,onDismiss:function(){return z("waiting")}},"importing"===C?u.a.createElement("div",{className:"u-flex"},u.a.createElement(x.a,{size:"xxlarge",className:"u-mh-auto"})):null,q()("passwords.debug")&&P?u.a.createElement("pre",null,JSON.stringify(P,null,2)):null,"imported"===C?u.a.createElement("p",null,n("ImportPage.modal.imported.content")):null,"errored"===C?u.a.createElement("p",null,n("ImportPage.modal.errored.content")):null,"imported"===C||"errored"===C?u.a.createElement(y.c,{extension:"full",onClick:function(){window.location.reload()},label:n("ImportPage.modal.close")}):null))):null)}))},jEuI:function(e,t,n){},nbNg:function(e,t){e.exports="/img/import-passwords.20e427cc4db4e5af480c9f4d66f07aa8.svg"},nvt4:function(e,t,n){},nw0P:function(e,t,n){var a={"./_lib/build_formatting_tokens_reg_exp/index.js":"kOWh","./ar/build_distance_in_words_locale/index.js":"XxX6","./ar/build_format_locale/index.js":"alis","./ar/index.js":"EDRf","./be/build_distance_in_words_locale/index.js":"LQ09","./be/build_format_locale/index.js":"kj7F","./be/index.js":"YEhR","./bg/build_distance_in_words_locale/index.js":"7K3h","./bg/build_format_locale/index.js":"RrdL","./bg/index.js":"isx8","./ca/build_distance_in_words_locale/index.js":"wqqj","./ca/build_format_locale/index.js":"qcV0","./ca/index.js":"Vwa+","./cs/build_distance_in_words_locale/index.js":"ZKDM","./cs/build_format_locale/index.js":"ipyF","./cs/index.js":"dvhP","./da/build_distance_in_words_locale/index.js":"2Mgc","./da/build_format_locale/index.js":"Gned","./da/index.js":"7ur/","./de/build_distance_in_words_locale/index.js":"5IWf","./de/build_format_locale/index.js":"THCn","./de/index.js":"bgw5","./el/build_distance_in_words_locale/index.js":"o/GB","./el/build_format_locale/index.js":"8T9h","./el/index.js":"dH0v","./en/build_distance_in_words_locale/index.js":"LZbM","./en/build_format_locale/index.js":"6DAA","./en/index.js":"Us+F","./eo/build_distance_in_words_locale/index.js":"qrnn","./eo/build_format_locale/index.js":"Bl15","./eo/index.js":"UB7v","./es/build_distance_in_words_locale/index.js":"GEfZ","./es/build_format_locale/index.js":"O+zC","./es/index.js":"/S0t","./fi/build_distance_in_words_locale/index.js":"VHtQ","./fi/build_format_locale/index.js":"Oydx","./fi/index.js":"ndVD","./fil/build_distance_in_words_locale/index.js":"uq4p","./fil/build_format_locale/index.js":"d7hw","./fil/index.js":"pNfm","./fr/build_distance_in_words_locale/index.js":"IzMR","./fr/build_format_locale/index.js":"I3Zg","./fr/index.js":"LKA2","./hr/build_distance_in_words_locale/index.js":"DPvn","./hr/build_format_locale/index.js":"puw3","./hr/index.js":"L9Jq","./hu/build_distance_in_words_locale/index.js":"w2RQ","./hu/build_format_locale/index.js":"/0iD","./hu/index.js":"Nm+E","./id/build_distance_in_words_locale/index.js":"JbvB","./id/build_format_locale/index.js":"0wlw","./id/index.js":"A6C3","./is/build_distance_in_words_locale/index.js":"qzMC","./is/build_format_locale/index.js":"S3yD","./is/index.js":"N4bE","./it/build_distance_in_words_locale/index.js":"MDEp","./it/build_format_locale/index.js":"aUJd","./it/index.js":"hmb4","./ja/build_distance_in_words_locale/index.js":"nNvt","./ja/build_format_locale/index.js":"buui","./ja/index.js":"uAXs","./ko/build_distance_in_words_locale/index.js":"oEw+","./ko/build_format_locale/index.js":"9SQf","./ko/index.js":"iW8+","./mk/build_distance_in_words_locale/index.js":"nmwZ","./mk/build_format_locale/index.js":"htxJ","./mk/index.js":"GzBU","./nb/build_distance_in_words_locale/index.js":"SL1f","./nb/build_format_locale/index.js":"CJ5F","./nb/index.js":"73vv","./nl/build_distance_in_words_locale/index.js":"Uyu0","./nl/build_format_locale/index.js":"doCD","./nl/index.js":"hCQt","./pl/build_distance_in_words_locale/index.js":"FUBD","./pl/build_format_locale/index.js":"nOYf","./pl/index.js":"B6yL","./pt/build_distance_in_words_locale/index.js":"aTPA","./pt/build_format_locale/index.js":"TTT0","./pt/index.js":"gdks","./ro/build_distance_in_words_locale/index.js":"gI+A","./ro/build_format_locale/index.js":"njjO","./ro/index.js":"r2yp","./ru/build_distance_in_words_locale/index.js":"KmPx","./ru/build_format_locale/index.js":"UUBw","./ru/index.js":"nz/o","./sk/build_distance_in_words_locale/index.js":"q2Bs","./sk/build_format_locale/index.js":"9sxn","./sk/index.js":"Wqan","./sl/build_distance_in_words_locale/index.js":"mlv2","./sl/build_format_locale/index.js":"vHkZ","./sl/index.js":"KYSo","./sr/build_distance_in_words_locale/index.js":"LlkS","./sr/build_format_locale/index.js":"RhjJ","./sr/index.js":"7mU3","./sv/build_distance_in_words_locale/index.js":"UNBN","./sv/build_format_locale/index.js":"zTNB","./sv/index.js":"hxgj","./th/build_distance_in_words_locale/index.js":"XAGa","./th/build_format_locale/index.js":"We2s","./th/index.js":"Pk+z","./tr/build_distance_in_words_locale/index.js":"aFZF","./tr/build_format_locale/index.js":"jh7A","./tr/index.js":"3ZWG","./zh_cn/build_distance_in_words_locale/index.js":"KdB7","./zh_cn/build_format_locale/index.js":"l4EP","./zh_cn/index.js":"8tMq","./zh_tw/build_distance_in_words_locale/index.js":"vyyr","./zh_tw/build_format_locale/index.js":"uYH7","./zh_tw/index.js":"QPlQ"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="nw0P"},pZg0:function(e,t){e.exports={name:"Pass",name_prefix:"Cozy",slug:"passwords",icon:"icon.svg",categories:["cozy"],version:"1.0.1",licence:"AGPL-3.0",editor:"cozy",source:"registry://passwords/stable",developer:{name:"Cozy Cloud",url:"https://cozy.io"},default_locale:"en",langs:["en","fr"],routes:{"/":{folder:"/",index:"index.html",public:!1}},permissions:{apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},settings:{description:"Required to check the existence of and update the password hint",type:"io.cozy.settings",verbs:["GET","PUT"]},ciphers:{description:"Required to import your passwords",type:"com.bitwarden.ciphers"}}}},tTfR:function(e,t){e.exports="/img/password-clue.a63ddf7fb9f684611007efe3fbd0e4c0.svg"},unx8:function(e,t){e.exports="/img/strong-password.8ca9dc733149986181c5cb90892e2ea8.svg"},v5lq:function(e,t,n){"use strict";var a=n("pVnL"),r=n.n(a),o=n("QILm"),s=n.n(o),i=n("q1tI"),l=n.n(i),c=n("TSYQ"),u=n.n(c);n("jEuI");t.a=function(e){var t=e.className,n=s()(e,["className"]);return l.a.createElement("div",r()({className:u()("Wrapper",t)},n))}},wIVe:function(e,t,n){},xYwX:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"DumbApp",(function(){return _}));var a=n("q1tI"),r=n.n(a),o=n("0cfB"),s=n("+BRz"),i=n("Ty5D"),l=n("55Ip"),c=n("jDpt"),u=n("le8I"),d=n("67rm"),p=n("xIbs"),m=n("fH6n"),f=n("isux"),b=n("2OfN"),h=n("kdbL"),v=n.n(h),y=n("i9cR"),g=n.n(y),E=n("1I/2");window.minilog=g.a,window.flag=v.a;var x=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/installation/import",exact:!0,component:f.a}),r.a.createElement(i.b,{path:"/installation/:step",component:b.a}),r.a.createElement(i.b,{path:"/installation",component:b.a}),r.a.createElement(i.b,{path:"/import",exact:!0,component:f.a}),r.a.createElement(i.a,{from:"/",to:"/installation"}),r.a.createElement(i.a,{from:"*",to:"/installation"}))},_=function(){Object(a.useEffect)((function(){0}),[]);var e=Object(s.b)();return"loading"===e.fetchStatus?null:r.a.createElement(s.a.Provider,{value:e.data},r.a.createElement(E.a,null,r.a.createElement(p.a,null,r.a.createElement(l.a,null,r.a.createElement(c.b,null,r.a.createElement(m.a,null),r.a.createElement(c.c,null,r.a.createElement(c.a,null,r.a.createElement(x,null))),r.a.createElement(u.a,null),r.a.createElement(d.a,null),r.a.createElement(h.FlagSwitcher,null))))))},w=_;t.default=Object(o.hot)(e)(w)}.call(this,n("3UD+")(e))}});